<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù‡Ø§Ù„Ø© X - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø·ÙˆØ±Ø©</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #000000;
            --card-bg: #0d0d0d;
            --card-hover: #151515;
            --text-primary: #ffffff;
            --text-secondary: #808080;
            --accent-color: #ff3e3e;
            --live-color: #00ff66;
            --border-color: #1a1a1a;
            --header-bg: rgba(0, 0, 0, 0.9);
        }

        [data-theme="light"] {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --card-hover: #f8f9fa;
            --text-primary: #1a1a1a;
            --text-secondary: #666666;
            --accent-color: #d90429;
            --live-color: #2b9348;
            --border-color: #e0e0e0;
            --header-bg: rgba(255, 255, 255, 0.9);
        }

        * {
            margin: 0; padding: 0; box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
            -webkit-tap-highlight-color: transparent;
            user-select: none; -webkit-user-select: none;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            transition: background 0.3s;
            overflow-x: hidden;
            padding-bottom: 70px;
        }

        img { pointer-events: none; -webkit-touch-callout: none; }

        .container { max-width: 480px; margin: 0 auto; min-height: 100vh; }

        /* Header */
        .header {
            background: var(--header-bg);
            backdrop-filter: blur(10px);
            padding: 12px 16px;
            position: sticky; top: 0; z-index: 100;
            border-bottom: 1px solid var(--border-color);
        }

        .top-nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-weight: 900; font-size: 1.3rem; color: var(--accent-color); }
        .theme-btn { background: var(--card-bg); border: 1px solid var(--border-color); color: var(--text-primary); width: 36px; height: 36px; border-radius: 10px; cursor: pointer; font-size: 1rem; transition: all 0.3s; }
        .theme-btn:active { transform: scale(0.95); }

        .date-nav { display: flex; justify-content: space-between; align-items: center; margin-top: 12px; }
        .nav-arrow { background: var(--card-bg); border: 1px solid var(--border-color); color: var(--text-primary); width: 34px; height: 34px; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .nav-arrow:active { transform: scale(0.95); }
        .date-text { text-align: center; }
        .day-label { font-weight: 800; font-size: 1rem; display: block; }
        .date-sub { font-size: 0.7rem; color: var(--text-secondary); }

        /* Content Sections */
        .content-section { display: none; padding: 12px; }
        .content-section.active { display: block; }

        /* Matches */
        .league-box { margin-bottom: 20px; }
        .league-head { display: flex; align-items: center; gap: 8px; padding: 5px 0 10px; font-size: 0.8rem; font-weight: 700; color: var(--text-secondary); }
        .league-img { width: 20px; height: 20px; object-fit: contain; }

        .match-item {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 15px 10px;
            margin-bottom: 10px;
            display: flex; align-items: center; justify-content: space-between;
            cursor: pointer;
            transition: all 0.2s;
        }
        .match-item:active { transform: scale(0.98); background: var(--card-hover); }

        .team-side { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 6px; width: 30%; }
        .logo-box { width: 45px; height: 45px; background: rgba(128,128,128,0.05); border-radius: 12px; padding: 6px; display: flex; align-items: center; justify-content: center; }
        .logo-img { width: 100%; height: 100%; object-fit: contain; }
        .team-name { font-size: 0.75rem; font-weight: 700; text-align: center; width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

        .match-center { flex: 0 0 110px; display: flex; flex-direction: column; align-items: center; }
        .score-row { font-size: 1.6rem; font-weight: 900; display: flex; align-items: center; gap: 8px; }
        .status-tag { font-size: 0.55rem; font-weight: 800; padding: 2px 8px; border-radius: 4px; margin-top: 4px; }
        .tag-live { background: var(--live-color); color: #000; animation: pulse 1s infinite; }
        .tag-upcoming { color: var(--text-secondary); }
        .tag-finished { color: var(--accent-color); }

        @keyframes pulse { 50% { opacity: 0.6; } }

        /* Standings - League Cards */
        .standings-container { display: flex; flex-direction: column; gap: 20px; }
        .league-cards-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        
        .league-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            text-align: center;
        }
        .league-card:active { transform: scale(0.95); background: var(--card-hover); }
        .league-card-logo { width: 50px; height: 50px; object-fit: contain; }
        .league-card-name { font-size: 0.85rem; font-weight: 700; color: var(--text-primary); }
        .league-card-badge { font-size: 0.65rem; color: var(--accent-color); font-weight: 600; }

        /* Standings Detail */
        .standings-detail { animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        .standings-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .back-btn {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            width: 36px;
            height: 36px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .back-btn:active { transform: scale(0.95); }

        .standings-title {
            font-weight: 800;
            font-size: 1rem;
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
        }
        .standings-title img { width: 24px; height: 24px; }

        .standings-table {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .standings-scroll {
            max-height: 500px;
            overflow-y: auto;
            border-radius: 10px;
        }

        table { width: 100%; border-collapse: collapse; font-size: 0.75rem; }
        th { text-align: right; color: var(--text-secondary); padding: 8px 4px; border-bottom: 1px solid var(--border-color); font-weight: 700; }
        td { padding: 10px 4px; border-bottom: 1px solid rgba(128,128,128,0.05); }
        .rank { font-weight: 800; width: 25px; }
        .team-cell { display: flex; align-items: center; gap: 8px; }
        .team-mini-logo { width: 18px; height: 18px; object-fit: contain; }
        .pts { font-weight: 900; color: var(--text-primary); text-align: center; }

        .view-all-btn {
            background: var(--accent-color);
            color: #fff;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            transition: all 0.2s;
        }
        .view-all-btn:active { transform: scale(0.98); opacity: 0.9; }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: var(--header-bg); backdrop-filter: blur(10px);
            border-top: 1px solid var(--border-color);
            display: flex; justify-content: space-around; padding: 10px 0; z-index: 1000;
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center; gap: 4px;
            color: var(--text-secondary); cursor: pointer; font-size: 0.7rem; font-weight: 700; flex: 1;
            transition: color 0.3s;
        }
        .nav-item.active { color: var(--accent-color); }
        .nav-item i { font-size: 1.2rem; }

        .loader { display: flex; justify-content: center; padding: 50px; color: var(--accent-color); }
        .error { text-align: center; padding: 40px; color: var(--text-secondary); }
    </style>
</head>
<body oncontextmenu="return false;">

<div class="container">
    <header class="header">
        <div class="top-nav">
            <span class="logo">Ù‡Ø§Ù„Ø© X</span>
            <button class="theme-btn" id="themeToggle"><i class="fas fa-moon"></i></button>
        </div>
        <div class="date-nav" id="dateNav">
            <button class="nav-arrow" onclick="changeDate(-1)"><i class="fas fa-chevron-right"></i></button>
            <div class="date-text">
                <span class="day-label" id="dayLabel">Ø§Ù„ÙŠÙˆÙ…</span>
                <span class="date-sub" id="dateSub"></span>
            </div>
            <button class="nav-arrow" onclick="changeDate(1)"><i class="fas fa-chevron-left"></i></button>
        </div>
    </header>

    <div id="matchesSection" class="content-section active">
        <div id="matchesList">
            <div class="loader"><i class="fas fa-spinner fa-spin fa-2x"></i></div>
        </div>
    </div>

    <div id="standingsSection" class="content-section">
        <div id="standingsList">
            <div class="loader"><i class="fas fa-spinner fa-spin fa-2x"></i></div>
        </div>
    </div>

    <nav class="bottom-nav">
        <div class="nav-item active" onclick="switchTab('matches', this)">
            <i class="fas fa-calendar-alt"></i>
            <span>Ø§Ù„Ø¬Ø¯ÙˆÙ„</span>
        </div>
        <div class="nav-item" onclick="switchTab('standings', this)">
            <i class="fas fa-list-ol"></i>
            <span>Ø§Ù„ØªØ±ØªÙŠØ¨</span>
        </div>
    </nav>
</div>

<script>
    let currentDay = new Date();
    const DOMAIN = "https://www.messisporat.com";
    let matchesData = [];
    let standingsCache = {};
    let selectedLeague = null;
    let currentStandingsData = null;
    let showingAllStandings = false;

    // Theme Logic
    const themeBtn = document.getElementById('themeToggle');
    const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
    document.documentElement.setAttribute('data-theme', savedTheme);
    themeBtn.innerHTML = savedTheme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';

    themeBtn.onclick = () => {
        let theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        themeBtn.innerHTML = theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    };

    function formatDate(date) { return date.toISOString().split('T')[0]; }
    function getDayLabel(date) {
        const today = new Date();
        const diff = Math.round((date - today.setHours(0,0,0,0)) / 86400000);
        if (diff === 0) return "Ø§Ù„ÙŠÙˆÙ…";
        if (diff === 1) return "ØºØ¯Ø§Ù‹";
        if (diff === -1) return "Ø£Ù…Ø³";
        return date.toLocaleDateString('ar-EG', { weekday: 'long' });
    }

    function switchTab(tab, el) {
        document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        el.classList.add('active');
        
        if (tab === 'matches') {
            document.getElementById('matchesSection').classList.add('active');
            document.getElementById('dateNav').style.display = 'flex';
            if (!matchesData.length) loadMatches();
        } else {
            document.getElementById('standingsSection').classList.add('active');
            document.getElementById('dateNav').style.display = 'none';
            if (!Object.keys(standingsCache).length) loadStandings();
        }
    }

    async function loadMatches() {
        const list = document.getElementById('matchesList');
        list.innerHTML = '<div class="loader"><i class="fas fa-spinner fa-spin fa-2x"></i></div>';
        const dateStr = formatDate(currentDay);
        document.getElementById('dayLabel').textContent = getDayLabel(currentDay);
        document.getElementById('dateSub').textContent = dateStr;

        const url = `${DOMAIN}/matches/npm/?date=${dateStr}&lang=27&time=+1`;
        try {
            const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(url)}&_=${Date.now()}`;
            const res = await fetch(proxyUrl);
            const json = await res.json();
            const data = JSON.parse(json.contents);
            matchesData = data["STING-WEB-Matches"] || [];
            renderMatches(matchesData);
        } catch (e) {
            list.innerHTML = '<div class="error"><p>ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</p></div>';
        }
    }

    function renderMatches(matches) {
        const list = document.getElementById('matchesList');
        if (!matches.length) { list.innerHTML = '<div class="error">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨Ø§Ø±ÙŠØ§Øª</div>'; return; }

        const groups = {};
        matches.forEach(m => {
            if (!groups[m["Cup-Name"]]) groups[m["Cup-Name"]] = { logo: m["Cup-Logo"], list: [] };
            groups[m["Cup-Name"]].list.push(m);
        });

        let html = '';
        for (let league in groups) {
            html += `<div class="league-box">
                <div class="league-head">
                    <img src="${DOMAIN}${groups[league].logo}" class="league-img" onerror="this.style.display='none'">
                    <span>${league}</span>
                </div>`;
            groups[league].list.forEach(m => {
                const isFinished = m["Match-Status"] === "Ø§Ù†ØªÙ‡Øª";
                const isLive = !isFinished && (m["Match-Status"] === "Ø¬Ø§Ø±ÙŠØ© Ø§Ù„Ø¢Ù†" || m["Time-Now"] > 0);
                let center = '';
                if (isLive || isFinished) {
                    center = `<div class="score-row"><span>${m["Team-Right"].Goal}</span><span style="color:#444; font-size:0.8rem;">-</span><span>${m["Team-Left"].Goal}</span></div>
                              <div class="status-tag ${isLive ? 'tag-live' : 'tag-finished'}">${m["Match-Status"]}</div>`;
                } else {
                    const time = new Date(m["Time-Start"]).toLocaleTimeString('ar-EG', { hour: '2-digit', minute: '2-digit', hour12: true });
                    center = `<div style="font-weight:900; font-size:1rem;">${time}</div><div class="status-tag tag-upcoming" style="font-size:0.5rem;">Ù„Ù… ØªØ¨Ø¯Ø£ Ø¨Ø¹Ø¯</div>`;
                }
                html += `<div class="match-item">
                    <div class="team-side"><div class="logo-box"><img src="${DOMAIN}${m["Team-Right"].Logo}" class="logo-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/53/53254.png'"></div><span class="team-name">${m["Team-Right"].Name}</span></div>
                    <div class="match-center">${center}</div>
                    <div class="team-side"><div class="logo-box"><img src="${DOMAIN}${m["Team-Left"].Logo}" class="logo-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/53/53254.png'"></div><span class="team-name">${m["Team-Left"].Name}</span></div>
                </div>`;
            });
            html += '</div>';
        }
        list.innerHTML = html;
    }

    const leaguesData = [
        
        { "id": "eng.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/23.png", "badge": "ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿" },
    { "id": "esp.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/15.png", "badge": "ğŸ‡ªğŸ‡¸" },
    { "id": "ita.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/12.png", "badge": "ğŸ‡®ğŸ‡¹" },
    { "id": "ger.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/10.png", "badge": "ğŸ‡©ğŸ‡ª" },
    { "id": "fra.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/9.png", "badge": "ğŸ‡«ğŸ‡·" },
    { "id": "por.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¨Ø±ØªØºØ§Ù„ÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/14.png", "badge": "ğŸ‡µğŸ‡¹" },
    { "id": "ned.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ù‡ÙˆÙ„Ù†Ø¯ÙŠ", "logo": "https://upload.wikimedia.org/wikipedia/ar/8/88/Eredivisie_logo.png?20170615191208", "badge": "ğŸ‡³ğŸ‡±" },
    { "id": "bra.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/85.png", "badge": "ğŸ‡§ğŸ‡·" },
    { "id": "arg.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†ÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/1.png", "badge": "ğŸ‡¦ğŸ‡·" },
    { "id": "mex.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ù…ÙƒØ³ÙŠÙƒÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/83.png", "badge": "ğŸ‡²ğŸ‡½" },
    { "id": "jpn.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠ", "logo": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/J.League.svg/960px-J.League.svg.png", "badge": "ğŸ‡¯ğŸ‡µ" },
    { "id": "rus.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø±ÙˆØ³ÙŠ", "logo": "https://upload.wikimedia.org/wikipedia/ar/9/92/Russian_Premier_League_Logo.png?20231210001724", "badge": "ğŸ‡·ğŸ‡º" },
    { "id": "bel.1", "name": "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¨Ù„Ø¬ÙŠÙƒÙŠ", "logo": "https://a.espncdn.com/i/leaguelogos/soccer/500/86.png", "badge": "ğŸ‡§ğŸ‡ª" }

    ];

    async function loadStandings() {
        const list = document.getElementById('standingsList');
        list.innerHTML = '<div class="loader"><i class="fas fa-spinner fa-spin fa-2x"></i></div>';
        
        let html = `<div class="standings-container">
            <div style="margin-bottom: 12px;">
                <h2 style="font-size: 0.9rem; color: var(--text-secondary); font-weight: 700; margin-bottom: 12px;">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ±ÙŠ</h2>
            </div>
            <div class="league-cards-grid">`;
        
        leaguesData.forEach(league => {
            html += `<div class="league-card" onclick="showLeagueStandings('${league.id}', '${league.name}', '${league.logo}')">
                <img src="${league.logo}" alt="${league.name}" class="league-card-logo" onerror="this.style.display='none'">
                <div class="league-card-name">${league.name}</div>
                <div class="league-card-badge">${league.badge}</div>
            </div>`;
        });
        
        html += '</div></div>';
        list.innerHTML = html;
        standingsCache = { loaded: true };
    }

    async function showLeagueStandings(leagueId, leagueName, leagueLogo) {
        const list = document.getElementById('standingsList');
        list.innerHTML = `<div class="standings-detail">
            <div class="standings-header">
                <button class="back-btn" onclick="loadStandings()"><i class="fas fa-arrow-right"></i></button>
                <div class="standings-title">
                    <img src="${leagueLogo}" alt="${leagueName}" onerror="this.style.display='none'">
                    <span>${leagueName}</span>
                </div>
            </div>
            <div class="loader"><i class="fas fa-spinner fa-spin fa-2x"></i></div>
        </div>`;

        try {
            const url = `https://site.api.espn.com/apis/v2/sports/soccer/${leagueId}/standings`;
            const res = await fetch(url);
            const data = await res.json();
            const standings = data.children[0].standings.entries;
            currentStandingsData = { standings, leagueName, leagueLogo, leagueId };
            showingAllStandings = false;
            renderLeagueStandings(leagueName, leagueLogo, standings);
        } catch (e) {
            list.innerHTML = `<div class="standings-detail">
                <div class="standings-header">
                    <button class="back-btn" onclick="loadStandings()"><i class="fas fa-arrow-right"></i></button>
                    <div class="standings-title">
                        <img src="${leagueLogo}" alt="${leagueName}" onerror="this.style.display='none'">
                        <span>${leagueName}</span>
                    </div>
                </div>
                <div class="error">ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ±ØªÙŠØ¨</div>
            </div>`;
        }
    }

    function renderLeagueStandings(leagueName, leagueLogo, standings) {
        const list = document.getElementById('standingsList');
        const displayStandings = showingAllStandings ? standings : standings.slice(0, 10);
        
        let html = `<div class="standings-detail">
            <div class="standings-header">
                <button class="back-btn" onclick="loadStandings()"><i class="fas fa-arrow-right"></i></button>
                <div class="standings-title">
                    <img src="${leagueLogo}" alt="${leagueName}" onerror="this.style.display='none'">
                    <span>${leagueName}</span>
                </div>
            </div>
            <div class="standings-table">
                <div class="standings-scroll">
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 30px">#</th>
                                <th>Ø§Ù„ÙØ±ÙŠÙ‚</th>
                                <th style="text-align: center">Ù„Ø¹Ø¨</th>
                                <th style="text-align: center">Ù†Ù‚Ø§Ø·</th>
                            </tr>
                        </thead>
                        <tbody>`;
        
        displayStandings.forEach((entry, idx) => {
            const team = entry.team;
            const stats = entry.stats;
            const played = stats.find(s => s.name === "gamesPlayed")?.value || 0;
            const points = stats.find(s => s.name === "points")?.value || 0;
            const rank = entry.stats.find(s => s.name === "rank")?.value || '-';
            
            html += `<tr>
                <td class="rank">${rank}</td>
                <td class="team-cell">
                    <img src="${team.logos[0].href}" alt="${team.displayName}" class="team-mini-logo">
                    <span>${team.displayName}</span>
                </td>
                <td style="text-align: center">${played}</td>
                <td class="pts">${points}</td>
            </tr>`;
        });
        
        html += `</tbody></table></div></div>`;
        
        if (standings.length > 10) {
            const btnText = showingAllStandings ? 'Ø¥Ø®ÙØ§Ø¡' : `Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„ (${standings.length})`;
            html += `<button class="view-all-btn" onclick="toggleAllStandings()">${btnText}</button>`;
        }
        
        html += `</div>`;
        list.innerHTML = html;
    }

    function toggleAllStandings() {
        if (currentStandingsData) {
            showingAllStandings = !showingAllStandings;
            renderLeagueStandings(currentStandingsData.leagueName, currentStandingsData.leagueLogo, currentStandingsData.standings);
        }
    }

    function changeDate(n) { currentDay.setDate(currentDay.getDate() + n); loadMatches(); }
    loadMatches();
</script>
</body>
</html>
